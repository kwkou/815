<properties
	pageTitle="Azure 应用服务计划深入概述 | Azure"
	description="了解针对 Azure 应用服务的应用服务计划的工作原理，以及如何利用它们进行管理。"
	keywords="应用服务, azure 应用服务, 缩放, 可缩放, 应用服务计划, 应用服务成本"
	services="app-service"
	documentationCenter=""
	authors="btardif"
	manager="wpickett"
	editor=""/>  


<tags
	ms.service="app-service"
	ms.workload="na"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="10/13/2016"
	wacn.date=""
	ms.author="byvinyal"/>

# Azure 应用服务计划深入概述#

应用服务计划代表一组可在多个应用间共享的功能和容量。[Azure App Service](/documentation/articles/app-service-changes-existing-services/) 中的 Web 应用、移动应用或 API 应用均在应用服务计划中运行。这些计划支持五个定价层：*免费*、*共享*、*基本*、*标准*、*高级*。每个层都有自己的功能和容量。同一订阅和地理位置的应用可以共享一个计划。共享一个计划的所有应用均可使用该计划的层定义的所有功能和性能。与一个计划关联的所有应用均运行在该计划定义的资源上。

例如，如果计划已配置为使用标准服务层的两个“小型”实例，则与该计划关联的所有应用都运行在这两个实例上，并且都可以访问标准服务层功能。运行应用的计划实例是完全托管的，且可用性高。

本文介绍应用服务计划的主要特征（例如层和规模），以及在管理应用时这些特征如何起作用。

## 应用和应用服务计划

应用服务中的应用在任何特定的时刻只能与一个应用服务计划相关联。

应用和计划都包含在资源组中。资源组充当该组中每个资源的生命周期界限。可以使用资源组来同时管理应用程序的所有组件。

由于一个资源组可以有多个应用服务计划，因此用户可以将不同的应用分配给不同的物理资源。例如，可以将资源分到开发环境、测试环境和生产环境中。生产和开发/测试具有各自的环境，因此资源是被隔离的。这样，对新版应用进行负载测试时，不会与为真正的客户提供服务的生产应用竞争相同的资源。

单个资源组中存在多个计划时，也可定义一个跨多个地理区域的应用程序。例如，在两个区域中运行的高度可用的应用可以包括至少两个计划，一个区域一个计划，一个计划关联一个应用。在这种情况下，应用的所有副本都包含在单个资源组中。一个资源组中有多个计划和多个应用可以轻松管理、控制和查看应用程序的运行状况。

## 创建应用服务计划或使用现有应用服务计划

创建应用时，应考虑创建资源组。另一方面，如果要创建的应用是另一个更大型应用程序的组件，则应在后者所属的资源组内创建前者。

不管新应用是完整的全新应用程序还是更大型应用程序的一部分，均可选择使用现有的应用服务计划进行托管，也可创建新计划。该决定主要取决于容量和预期的负载。

如果这个新应用要使用大量的资源，而托管在现有计划中的其他应用提供了各种不同的规模调整系数，则建议让这个新应用单独使用自己的计划。

创建计划时，可以为应用分配新的资源集，对资源分配进行更好的控制，因为每个计划都会获得自己的实例集。

由于可以跨计划移动应用，因此可以更改跨更大型应用程序分配资源的方式。

最后，若要在其他区域中创建应用，而该区域没有现成的计划，则需在该区域创建计划来就地托管应用。

## 创建应用服务计划

可以在浏览应用服务计划或创建应用的过程中创建空的应用服务计划。

在 [Azure 门户预览](https://portal.azure.cn)中，单击“新建”>“Web + 移动”，选择“Web 应用”或其他应用服务应用种类。![在 Azure 门户预览中创建应用。][createWebApp]

然后即可为新应用选择或创建应用服务计划。

 ![创建应用服务计划。][createASP]

若要创建新的应用服务计划，可单击“[+] 新建”，键入**应用服务计划**名称，然后选择相应的**位置**。单击“定价层”，然后为服务选择适当的服务定价层。选择“全部查看”以查看其他定价选项，例如“免费”和“共享”。选择定价层后，单击“选择”按钮。

## 将应用移到其他应用服务计划

可以在 [Azure 门户预览](https://portal.azure.cn)中将应用移到其他应用服务计划。只要计划属于同一资源组和同一地理区域，即可在计划之间移动应用。

若要将应用移到其他计划，请转到要移动的应用。在“设置”菜单上，查找“更改应用服务计划”。

选择“更改应用服务计划”以打开“应用服务计划”选择器。此时可以选取现有的计划，也可以新建一个。仅显示位于相同资源组和地理位置的有效计划。

![应用服务计划选择器。][change]  


每个计划都有自己的定价层。例如，将站点从“免费”层移到“标准”层后，应用即可使用“标准”层的所有功能和资源。

## 将应用克隆到其他应用服务计划
若要将应用移到其他区域，也可以使用应用克隆。克隆可以复制任何区域的新的或现有的应用服务计划中的应用。

 ![克隆应用。][appclone]  


可以在“工具”菜单中查找“克隆应用”。

克隆有一些限制，详见[使用 Azure 门户预览进行 Azure App Service 应用克隆](/documentation/articles/app-service-web-app-cloning-portal/)。

## 缩放应用服务计划

可通过三种方式缩放一个计划：

- **更改计划的定价层**。例如，可以将“基本”层中的计划转为“标准”层或“高级”层中的计划，然后与该计划关联的所有应用即可使用新服务层提供的功能。
- **更改计划的实例大小**。例如，可以将“基本”层中使用小型实例的计划改为使用大型实例。与该计划关联的所有应用即可使用实例大小提高以后带来的更多内存和 CPU 资源。
- **更改计划的实例计数**。例如，可以将最大规模为 3 个实例的“标准”计划扩展到 10 个实例。“高级”计划可以扩展到 20 个实例（取决于可用性）。与该计划关联的所有应用即可使用实例数量提高以后带来的更多内存和 CPU 资源。

单击应用或应用服务计划的设置下面的“向上缩放”项即可更改定价层和实例大小。更改应用到应用服务计划并影响其所托管的所有应用。

 ![设置向上缩放应用的值。][pricingtier]  


## 应用服务计划清理
未与任何应用关联的**应用服务计划**仍会产生费用，因为它们继续保留在应用服务计划规模属性中配置的计算容量。若要避免意想不到的费用，当应用服务计划中托管的最后一个应用被删除时，也要删除此空的应用服务计划。


## 摘要

应用服务计划表示一组可在应用间共享的功能和容量。可以通过应用服务计划灵活地将特定应用分配给一组资源，并进一步优化 Azure 资源的使用情况。若要节省测试环境的资金，可通过这种方式跨多个应用共享一个计划。也可跨多个区域和计划进行伸缩，实现生产环境吞吐量的最大化。

## 发生的更改

* 有关从网站更改为应用服务的指南，请参阅 [Azure App Service and Its Impact on Existing Azure Services](/documentation/articles/app-service-changes-existing-services/)（Azure 应用服务及其对现有 Azure 服务的影响）

[pricingtier]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/appserviceplan-pricingtier.png
[assign]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/assing-appserviceplan.png
[change]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/change-appserviceplan.png
[createASP]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/create-appserviceplan.png
[createWebApp]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/create-web-app.png
[appclone]: ./media/azure-web-sites-web-hosting-plans-in-depth-overview/app-clone.png

<!---HONumber=Mooncake_1024_2016-->